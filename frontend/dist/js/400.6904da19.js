"use strict";(self["webpackChunkwebserver"]=self["webpackChunkwebserver"]||[]).push([[400],{4400:function(e,t,s){s.r(t),s.d(t,{default:function(){return Fe}});var a=s(6768),n=s(4232);const r=(0,a.Lk)("h1",null,"Testing Protocol",-1),o={class:"container-test"},i={class:"test-button-block"},l=["disabled"],d=["disabled"],c=["disabled"];function u(e,t,s,u,m,p){const k=(0,a.g2)("ControlTest"),g=(0,a.g2)("DataTest"),h=(0,a.g2)("AcknowledgeTest");return(0,a.uX)(),(0,a.CE)(a.FK,null,[r,(0,a.Lk)("div",o,[(0,a.Lk)("div",i,[(0,a.Lk)("button",{disabled:m.isControlButtonEnable,class:(0,n.C4)({active:m.isControlButtonEnable}),onClick:t[0]||(t[0]=e=>p.pressControlButton())},"Control Test",10,l),(0,a.Lk)("button",{disabled:m.isDataButtonEnable,class:(0,n.C4)({active:m.isDataButtonEnable}),onClick:t[1]||(t[1]=e=>p.pressDataButton())},"Data Test",10,d),(0,a.Lk)("button",{disabled:m.isAcknowledgeEnable,class:(0,n.C4)({active:m.isAcknowledgeEnable}),onClick:t[2]||(t[2]=e=>p.pressAcknowledgeButton())},"Acknowelege Test",10,c)]),m.isControlButtonEnable?((0,a.uX)(),(0,a.Wv)(k,{key:0,CommandType:m.CommandType,UserId:m.UserId,UserName:m.UserName,UserParameter:m.UserParameter,UsersLlist:m.UsersLlist,codingRes:m.codingRes,origin:m.origin,onRunTest:t[3]||(t[3]=e=>p.testRequest(e))},null,8,["CommandType","UserId","UserName","UserParameter","UsersLlist","codingRes","origin"])):(0,a.Q3)("",!0),m.isDataButtonEnable?((0,a.uX)(),(0,a.Wv)(g,{key:1,DataType:m.DataType,DataFormat:m.DataFormat,IndexNumber:m.IndexNumber,UserId:m.UserId,RoomId:m.RoomId,Message:m.Message,codingRes:m.codingRes,origin:m.origin,onRunTest:t[4]||(t[4]=e=>p.testRequest(e))},null,8,["DataType","DataFormat","IndexNumber","UserId","RoomId","Message","codingRes","origin"])):(0,a.Q3)("",!0),m.isAcknowledgeEnable?((0,a.uX)(),(0,a.Wv)(h,{key:2,AckType:m.AcknowledgeType,ControlAckType:m.ControlAcknowledgeType,DataAckType:m.DataAcnowledgeType,IndexNumber:m.IndexNumber,UserId:m.UserId,RoomId:m.RoomId,codingRes:m.codingRes,origin:m.origin,onRunTest:t[5]||(t[5]=e=>p.testRequest(e))},null,8,["AckType","ControlAckType","DataAckType","IndexNumber","UserId","RoomId","codingRes","origin"])):(0,a.Q3)("",!0)])],64)}s(4114),s(6573),s(8100),s(7936),s(7467),s(4732),s(9577);var m=s(5130);const p={class:"test-field"},k=(0,a.Fv)('<option disabled value="0">Select the test</option><option value="3">Connect</option><option value="4">Disconnect</option><option value="5">Register</option><option value="6">User Update</option><option value="7">User Info</option><option value="8">Users List</option>',7),g=[k],h=["disabled"],y={class:"test-decor"},v=(0,a.Lk)("h2",null," Command type test: ",-1),C={class:"test-decor"},T=(0,a.Lk)("h2",null,"User Id tets:",-1),U={class:"test-decor"},L=(0,a.Lk)("h2",null," User Name test:",-1),I={class:"test-decor"},b=(0,a.Lk)("h2",null,"User Parsmeter test:",-1),R={class:"test-decor"},D=(0,a.Lk)("h2",null," Users List Test:",-1),N={class:"users-list"},A={class:"item-in-list"},f={class:"test-decor"},_=(0,a.Lk)("h2",null," Coding result: ",-1);function F(e,t,s,r,o,i){return(0,a.uX)(),(0,a.CE)("div",p,[(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.test_num=e)},g,512),[[m.u1,o.test_num]]),(0,a.Lk)("button",{disabled:0==this.test_num,class:(0,n.C4)({active:0!=this.test_num}),onClick:t[1]||(t[1]=e=>i.testRequest())},"Run Test",10,h),(0,a.Lk)("div",y,[v,(0,a.Lk)("p",{class:(0,n.C4)({checked:""!=s.CommandType})},"Command: "+(0,n.v_)(s.CommandType),3)]),(0,a.Lk)("div",C,[T,(0,a.Lk)("p",{class:(0,n.C4)({checked:0!=s.UserId})},"User Id: "+(0,n.v_)(s.UserId),3)]),(0,a.Lk)("div",U,[L,(0,a.Lk)("p",{class:(0,n.C4)({checked:""!=s.UserName})}," User name: "+(0,n.v_)(s.UserName),3)]),(0,a.Lk)("div",I,[b,(0,a.Lk)("p",{class:(0,n.C4)({checked:""!=s.UserParameter.Name})},"Name: "+(0,n.v_)(s.UserParameter.Name),3),(0,a.Lk)("p",{class:(0,n.C4)({checked:""!=s.UserParameter.Surname})},"Surname: "+(0,n.v_)(s.UserParameter.Surname),3),(0,a.Lk)("p",{class:(0,n.C4)({checked:""!=s.UserParameter.Familyname})},"Familyname: "+(0,n.v_)(s.UserParameter.Familyname),3),(0,a.Lk)("p",{class:(0,n.C4)({checked:""!=s.UserParameter.Birthdate})},"Birthdate: "+(0,n.v_)(s.UserParameter.Birthdate),3)]),(0,a.Lk)("div",R,[D,(0,a.Lk)("p",{class:(0,n.C4)({checked:""!=s.UsersLlist.Type})}," Command: "+(0,n.v_)(s.UsersLlist.Type),3),(0,a.Lk)("p",null," Number Of Items: "+(0,n.v_)(s.UsersLlist.NumOfItems),1),(0,a.Lk)("ul",N,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(s.UsersLlist.Items,(e=>((0,a.uX)(),(0,a.CE)("li",{v:"",key:e.id},[(0,a.Lk)("div",A,[(0,a.Lk)("p",null,(0,n.v_)(e.name),1),(0,a.Lk)("p",{class:(0,n.C4)({online:e.online,offline:!e.online})},(0,n.v_)(i.onlineStatus(e.online)),3),(0,a.Lk)("p",null,(0,n.v_)(e.nrm),1)])])))),128))])]),(0,a.Lk)("div",f,[_,(0,a.Lk)("p",null,"Recieve message: "+(0,n.v_)(s.origin),1),(0,a.Lk)("p",null,"Coding result: "+(0,n.v_)(s.codingRes),1)])])}var M={props:{CommandType:{type:String,default:""},UserId:{type:Number,default:0},UserName:{type:String,default:""},UserParameter:{type:Object,default:()=>({Name:"",Surname:"",Familyname:"",Birthdate:""})},UsersLlist:{type:Object,default:()=>({Type:"",NumOfItems:0,Items:[]})},codingRes:{type:Array,default:()=>[]},origin:{type:Array,default:()=>[]}},data(){return{test_num:0}},methods:{testRequest(){return this.$emit("runTest",this.test_num)},onlineStatus(e){return e?"online":"offline"}}},P=s(1241);const w=(0,P.A)(M,[["render",F]]);var x=w;const E={class:"test-field"},S=(0,a.Fv)('<option disabled value="0">Select the test</option><option value="1">Small text</option><option value="2">Big text</option><option value="3">First fragment</option><option value="4">Last ftagment</option><option value="5">Image</option>',6),B=[S],X=["disabled"],O={class:"test-decor"},q=(0,a.Lk)("h2",null,"Data Type test:",-1),Q={class:"test-decor"},j=(0,a.Lk)("h2",null,"Data Format test:",-1),$={class:"test-decor"},V=(0,a.Lk)("h2",null,"Index Number test:",-1),W={class:"test-decor"},K=(0,a.Lk)("h2",null,"User Id test:",-1),z={class:"test-decor"},G=(0,a.Lk)("h2",null,"Room Id test:",-1),H={class:"test-decor"},J=(0,a.Lk)("h2",null,"Message Data test:",-1),Y=["src"],Z={class:"test-decor"},ee=(0,a.Lk)("h2",null,"Coding result:",-1);function te(e,t,s,r,o,i){return(0,a.uX)(),(0,a.CE)("div",E,[(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.test_num=e)},B,512),[[m.u1,o.test_num]]),(0,a.Lk)("button",{disabled:0==this.test_num,class:(0,n.C4)({active:0!=this.test_num}),onClick:t[1]||(t[1]=e=>i.testRequest())},"Run Test",10,X),(0,a.Lk)("div",O,[q,(0,a.Lk)("p",{class:(0,n.C4)({checked:""!=s.DataType})},"Type: "+(0,n.v_)(s.DataType),3)]),(0,a.Lk)("div",Q,[j,(0,a.Lk)("p",{class:(0,n.C4)({checked:""!=s.DataFormat})},"Format: "+(0,n.v_)(s.DataFormat),3)]),(0,a.Lk)("div",$,[V,(0,a.Lk)("p",{class:(0,n.C4)({checked:0!=s.IndexNumber})},"Index Number: "+(0,n.v_)(s.IndexNumber),3)]),(0,a.Lk)("div",W,[K,(0,a.Lk)("p",{class:(0,n.C4)({checked:0!=s.UserId})},"User Id: "+(0,n.v_)(s.UserId),3)]),(0,a.Lk)("div",z,[G,(0,a.Lk)("p",{class:(0,n.C4)({checked:0==isNaN(s.RoomId)})},"Room Id: "+(0,n.v_)(s.RoomId),3)]),(0,a.Lk)("div",H,[J,(0,a.Lk)("p",{class:(0,n.C4)({checked:1==s.Message.Fragmentation})},"Fragmentation: "+(0,n.v_)(s.Message.Fragmentation),3),(0,a.Lk)("p",{class:(0,n.C4)({checked:1==s.Message.Fragmentation})},"Fragment Type: "+(0,n.v_)(s.Message.FragmentType),3),(0,a.Lk)("p",{class:(0,n.C4)({checked:1==s.Message.Fragmentation})},"Counter: "+(0,n.v_)(s.Message.Counter),3),"text"==s.DataFormat?((0,a.uX)(),(0,a.CE)("p",{key:0,class:(0,n.C4)({checked:""!=i.dataTextProcessing(s.Message.Data)})},"Text: "+(0,n.v_)(i.dataTextProcessing(s.Message.Data)),3)):(0,a.Q3)("",!0),"image"==s.DataFormat?((0,a.uX)(),(0,a.CE)("img",{key:1,src:i.dataImageProcessing(s.Message.Data),alt:""},null,8,Y)):(0,a.Q3)("",!0)]),(0,a.Lk)("div",Z,[ee,(0,a.Lk)("p",null,"Recieve message: "+(0,n.v_)(s.origin),1),(0,a.Lk)("p",null,"Coding result: "+(0,n.v_)(s.codingRes),1)])])}s(4979);var se={props:{DataType:{type:String,default:""},DataFormat:{type:String,default:""},IndexNumber:{type:Number,default:0},UserId:{type:Number,default:0},RoomId:{type:Number,default:NaN},Message:{type:Object,default:()=>({Fragmentation:!1,FragmentType:"",Counter:0,Data:Uint8Array})},codingRes:{type:Array,default:()=>[]},origin:{type:Array,default:()=>[]}},data(){return{test_num:0}},methods:{testRequest(){return this.$emit("runTest",this.test_num)},dataTextProcessing(e){let t=new TextDecoder;return t.decode(e)},dataImageProcessing(e){let t=btoa(String.fromCharCode(...e));return`data:image/jpeg;base64,${t}`}}};const ae=(0,P.A)(se,[["render",te]]);var ne=ae;const re={class:"test-field"},oe=(0,a.Fv)('<option disabled value="0">Select the test</option><option value="1">Send User Apdate Test</option><option value="2">Send Result Test</option><option value="3">Recieve Result Test</option><option value="4">Read Result Test</option>',5),ie=[oe],le=["disabled"],de={class:"test-decor"},ce=(0,a.Lk)("h2",null,"Data Type test:",-1),ue={key:0,class:"test-decor"},me=(0,a.Lk)("h2",null,"Control Ack Type test:",-1),pe={key:1,class:"test-decor"},ke=(0,a.Lk)("h2",null,"Data Ack Type test:",-1),ge={class:"test-decor"},he=(0,a.Lk)("h2",null,"Index Number test:",-1),ye={class:"test-decor"},ve=(0,a.Lk)("h2",null,"User Id test:",-1),Ce={class:"test-decor"},Te=(0,a.Lk)("h2",null,"Room Id test:",-1),Ue={class:"test-decor"},Le=(0,a.Lk)("h2",null,"Coding result:",-1);function Ie(e,t,s,r,o,i){return(0,a.uX)(),(0,a.CE)("div",re,[(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.test_num=e)},ie,512),[[m.u1,o.test_num]]),(0,a.Lk)("button",{disabled:0==this.test_num,class:(0,n.C4)({active:0!=this.test_num}),onClick:t[1]||(t[1]=e=>i.testRequest())},"Run Test",10,le),(0,a.Lk)("div",de,[ce,(0,a.Lk)("p",{class:(0,n.C4)({checked:""!=s.AckType})},"Type: "+(0,n.v_)(s.AckType),3)]),"control ack"==s.AckType?((0,a.uX)(),(0,a.CE)("div",ue,[me,(0,a.Lk)("p",{class:(0,n.C4)({checked:""!=s.ControlAckType})},"Type: "+(0,n.v_)(s.ControlAckType),3)])):(0,a.Q3)("",!0),"data ack"==s.AckType?((0,a.uX)(),(0,a.CE)("div",pe,[ke,(0,a.Lk)("p",{class:(0,n.C4)({checked:""!=s.DataAckType})},"Type: "+(0,n.v_)(s.DataAckType),3)])):(0,a.Q3)("",!0),(0,a.Lk)("div",ge,[he,(0,a.Lk)("p",{class:(0,n.C4)({checked:0!=s.IndexNumber})},"Index Number: "+(0,n.v_)(s.IndexNumber),3)]),(0,a.Lk)("div",ye,[ve,(0,a.Lk)("p",{class:(0,n.C4)({checked:0!=s.UserId})},"User Id: "+(0,n.v_)(s.UserId),3)]),(0,a.Lk)("div",Ce,[Te,(0,a.Lk)("p",{class:(0,n.C4)({checked:0==isNaN(s.RoomId)})},"Room Id: "+(0,n.v_)(s.RoomId),3)]),(0,a.Lk)("div",Ue,[Le,(0,a.Lk)("p",null,"Recieve message: "+(0,n.v_)(s.origin),1),(0,a.Lk)("p",null,"Coding result: "+(0,n.v_)(s.codingRes),1)])])}var be={props:{AckType:{type:String,default:""},ControlAckType:{type:String,default:""},DataAckType:{type:String,default:""},IndexNumber:{type:Number,default:0},UserId:{type:Number,default:0},RoomId:{type:Number,default:NaN},codingRes:{type:Array,default:()=>[]},origin:{type:Array,default:()=>[]}},data(){return{test_num:0}},methods:{testRequest(){return this.$emit("runTest",this.test_num)}}};const Re=(0,P.A)(be,[["render",Ie]]);var De=Re,Ne=s(7416),Ae=s(4652),fe={components:{ControlTest:x,DataTest:ne,AcknowledgeTest:De},data(){return{isControlButtonEnable:!0,isDataButtonEnable:!1,isAcknowledgeEnable:!1,testMode:0,CommandType:"",DataType:"",DataFormat:"",AcknowledgeType:"",ControlAcknowledgeType:"",DataAcnowledgeType:"",IndexNumber:0,UserId:0,RoomId:0,UserName:"",UserParameter:{Name:"",Surname:"",Familyname:"",Birthdate:""},UsersLlist:{Type:"",NumOfItems:0,Items:[]},Message:{Fragmentation:!1,FragmentType:"",Counter:0,Data:Uint8Array},codingRes:[],origin:[]}},methods:{pressControlButton(){this.isDataButtonEnable=!1,this.isControlButtonEnable=!0,this.isAcknowledgeEnable=!1,this.clearPreviosDataResult(),this.testMode=0},pressDataButton(){this.isDataButtonEnable=!0,this.isControlButtonEnable=!1,this.isAcknowledgeEnable=!1,this.clearPreviosControlResult(),this.testMode=1},pressAcknowledgeButton(){this.isDataButtonEnable=!1,this.isControlButtonEnable=!1,this.isAcknowledgeEnable=!0,this.clearPreviosAckResult(),this.testMode=2},testRequest(e){let t=new Uint8Array(2);t[0]=this.testMode,t[1]=e,(0,Ne.tQ)("/test",t).then((e=>{200==e.status?e.arrayBuffer().then((e=>{let t=new Uint8Array(e);switch(t[0]){case 0:this.controlCommandDecode(t.subarray(1));break;case 1:this.dataMessageDecode(t.subarray(1));break;case 2:this.ackMessageDecode(t.subarray(1));break}this.origin=[...t]})):console.log("error:"+e.status)})).catch((e=>console.error(e)))},controlCommandDecode(e){let t=Ae.T.ControlCommand;this.clearPreviosControlResult(),t.clear(),t.decode(e),this.processingControlCommand(t),this.codingRes=[...t.code()]},clearPreviosControlResult(){this.CommandType="",this.UserId=0,this.UserName="",this.UserParameter.Name="",this.UserParameter.Surname="",this.UserParameter.Familyname="",this.UserParameter.Birthdate="",this.UsersLlist.Type="",this.UsersLlist.NumOfItems=0,this.UsersLlist.Items.splice(0,this.UsersLlist.Items.length),this.origin.length=0,this.codingRes.length=0},processingControlCommand(e){switch(this.CommandType=e.ControlMessageType.toString(),e.ControlMessageType.toString()){case"connect":case"disconnect":this.UserId=e.UserId;break;case"registration":case"user update":this.UserId=e.UserId,this.UserName=e.UserName;break;case"user info":this.UserParameter.Name=e.UserParameter.Name,this.UserParameter.Surname=e.UserParameter.Surname,this.UserParameter.Familyname=e.UserParameter.Familyname,this.UserParameter.Birthdate=e.UserParameter.Birthdate;break;case"users list":this.UsersLlist.Type=e.UsersList.ListCommand,this.UsersLlist.NumOfItems=e.UsersList.NumberOfItems;for(let t of e.UsersList.ListElements)this.UsersLlist.Items.push({id:t[0],name:t[1].name,online:t[1].online,nrm:t[1].nrm});break}},dataMessageDecode(e){let t=Ae.T.Data;this.clearPreviosDataResult(),t.clear(),t.decode(e),this.processingDataMessage(t),this.codingRes=[...t.code()]},clearPreviosDataResult(){this.DataType="",this.DataFormat="",this.IndexNumber=0,this.UserId=0,this.RoomId=NaN,this.Message.Fragmentation=!1,this.Message.FragmentType="",this.Message.Counter=0,this.Message.Text="",this.origin.length=0,this.codingRes.length=0},processingDataMessage(e){this.DataType=e.DataMessageType.toString(),this.DataFormat=e.DataMessageFormat.toString(),this.IndexNumber=e.IndexNumber,this.UserId=e.UserId,this.RoomId=e.RoomId,this.Message.Fragmentation=e.UserData.Fragmentation.On,this.Message.FragmentType=Ae.T.FragmentTypeToString(e.UserData.Fragmentation.FragmentType),this.Message.Counter=e.UserData.Fragmentation.Counter,this.Message.Data=e.UserData.Data},ackMessageDecode(e){let t=Ae.T.Acknowledge;this.clearPreviosAckResult(),t.clear(),t.decode(e),this.processingAckMessage(t),this.codingRes=[...t.code()]},clearPreviosAckResult(){this.AcknowledgeType="",this.ControlAcknowledgeType="",this.DataAcnowledgeType="",this.IndexNumber=0,this.UserId=0,this.RoomId=NaN,this.origin.length=0,this.codingRes.length=0},processingAckMessage(e){this.AcknowledgeType=e.AckMessageType.toString(),this.ControlAcknowledgeType=e.ControlAckType.toString(),this.DataAcnowledgeType=e.DataAckType.toString(),this.IndexNumber=e.IndexNumber,this.UserId=e.UserId,this.RoomId=e.RoomId}}};const _e=(0,P.A)(fe,[["render",u]]);var Fe=_e}}]);
//# sourceMappingURL=400.6904da19.js.map